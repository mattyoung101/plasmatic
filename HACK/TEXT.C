// Plasmatic by Matt Young
// UQCS Hackathon 2025
// Programmed on FreeDOS
// GREETZ TO:
// broken_pipe, bpaul, eerie!!, devilbunny, howie
#include <stdio.h>
#include <graph.h>
#include <conio.h>
#include <math.h>

// brought to you by Howie
// close enough(TM)
// brought to you by Yufeng 16/08/25
// "verify if it's correct, it's probably not"
// checked approx 5 minutes later by Matt
// and it's correct
// chat he's goated
#define PI 3.1415926535897932384626

#define X_RES 320
#define Y_RES 200

// Image size: 256x136, total pixels: 34816
static const unsigned long long image[544] = {
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000002fffc00000ULL,     0x0000000000000000ULL,
    0x003fc00000001ff0ULL,     0x00000001ff000000ULL,     0xf80003fffffe0000ULL,     0x1ffc03ff8000000fULL,
    0x007fc00000000ff0ULL,     0x00000001ff000000ULL,     0xf8001fffffff0000ULL,     0x0ffc01ff80000007ULL,
    0x003fe00000000ff0ULL,     0x00000001ff800000ULL,     0xf8007fffffffe000ULL,     0x0ffc00ffc0000007ULL,
    0x003fc00000001ff0ULL,     0x00000003ff800000ULL,     0xf8007ffffffff800ULL,     0x0ff8007fe000000fULL,
    0x007fc00000000ff0ULL,     0x00000003ff800000ULL,     0xf8003ffffffffc00ULL,     0x0ffc003ff0000007ULL,
    0x003fc00000001ff0ULL,     0x00000007ffc00000ULL,     0xf8003ffffffffe00ULL,     0x0ff8001ff800000fULL,
    0x003fe00000000ff0ULL,     0x00000007ffc00000ULL,     0xf8003ff800bfff80ULL,     0x0ffc000ffc000007ULL,
    0x007fc00000001ff0ULL,     0x00000007ffc00000ULL,     0xf8001f80000fff80ULL,     0x0ff80007fc00000fULL,
    0x003fc00000000ff0ULL,     0x0000000fffe00000ULL,     0xf8000c000003ffe0ULL,     0x0ff80003ff000007ULL,
    0x003fc00000001ff0ULL,     0x0000000fffe00000ULL,     0xf80000000000ffe0ULL,     0x0ff80003ff00000fULL,
    0x003fc00000000ff0ULL,     0x0000000feff00000ULL,     0xf800000000007ff0ULL,     0x0ff80000ff800007ULL,
    0x007fc00000001ff0ULL,     0x0000001feff00000ULL,     0xf800000000003ff8ULL,     0x0ff80000ffc0000fULL,
    0x003fe00000000ff0ULL,     0x0000001fe7f80000ULL,     0xf800000000001ffcULL,     0x0ff800007fe00007ULL,
    0x003fc00000001ff0ULL,     0x0000003fc7f80000ULL,     0xf800000000000ffcULL,     0x0ff800003ff0000fULL,
    0x007fc00000000ff0ULL,     0x0000003fc7f80000ULL,     0xf8000000000007feULL,     0x0ff800001ff80007ULL,
    0x003fc00000001ff0ULL,     0x0000007fc7f80000ULL,     0xf8000000000007feULL,     0x0ff800000ffc000fULL,
    0x003fc00000000ff0ULL,     0x0000003f83fc0000ULL,     0xf8000000000003ffULL,     0x07f8000007fe0007ULL,
    0x007fc00000001ff0ULL,     0x0000007f83fc0000ULL,     0xf8000000000003ffULL,     0x0ff8000003fe000fULL,
    0x003fe00000000ff0ULL,     0x000000ff81fe0000ULL,     0xf8000000000001ffULL,     0x07f8000001ff8007ULL,
    0x003fc00000001ff0ULL,     0x800000ff01fe0000ULL,     0xf8000000000001ffULL,     0x0ff8000001ff800fULL,
    0x003fc00000000ff0ULL,     0x800000ff01ff0000ULL,     0xf8000000000000ffULL,     0x07f80000007fc007ULL,
    0x007fc00000001ff0ULL,     0x800001ff01ff0000ULL,     0xf8000000000000ffULL,     0x0ff00000007fe00fULL,
    0x003fc00000000ff0ULL,     0xc00001fe00ff8000ULL,     0xf8000000000000ffULL,     0x07f80000001ff007ULL,
    0x003fc00000001ff0ULL,     0x800003fe00ff0000ULL,     0xf8000000000000ffULL,     0x07f00000001ff80fULL,
    0x007fe00000000ff0ULL,     0xc00003fe007f8000ULL,     0xf80000000000007fULL,     0x07f80000000ffc07ULL,
    0x003fc00000001ff0ULL,     0xc00003fc007fc000ULL,     0xf80000000000007fULL,     0x07f000000007fe0fULL,
    0x003fc00000000ff0ULL,     0xc00007fc003fc000ULL,     0xf80000000000007fULL,     0x07f800000003ff07ULL,
    0x007ffffffffffff0ULL,     0xc00007f8003fc000ULL,     0xf80000000000007fULL,     0x07f000000001ff0fULL,
    0x003ffffffffffff0ULL,     0xe0000ff8003fe000ULL,     0xf80000000000007fULL,     0x07f000000000ffc7ULL,
    0x003ffffffffffff0ULL,     0xc0000ff8001fe000ULL,     0xf80000000000007fULL,     0x07f000000001ffcfULL,
    0x003ffffffffffff0ULL,     0xe0000ff0001ff000ULL,     0xf80000000000003fULL,     0x07f000000001ffe7ULL,
    0x007ffffffffffff0ULL,     0xc0001ff0001ff000ULL,     0xf80000000000007fULL,     0x07f000000003ffffULL,
    0x003ffffffffffff0ULL,     0xe0001fe0000ff000ULL,     0xf80000000000003fULL,     0x07f000000007ffffULL,
    0x003ffffffffffff0ULL,     0xc0003fe0000ff800ULL,     0xf80000000000007fULL,     0x07f00000000fffffULL,
    0x007fc00000000ff0ULL,     0xe0003fe00007f800ULL,     0xf80000000000003fULL,     0x07f00000000fffffULL,
    0x003fc00000001ff0ULL,     0xc0003fc00007f800ULL,     0xf80000000000007fULL,     0x07f00000001ff8ffULL,
    0x003fc00000000ff0ULL,     0xe0007fc00007fc00ULL,     0xf80000000000007fULL,     0x03f00000003ff87fULL,
    0x007fc00000001ff0ULL,     0xc0007f800003fc00ULL,     0xf80000000000007fULL,     0x07f00000007ff07fULL,
    0x003fc00000000ff0ULL,     0xc0007ffffffffe00ULL,     0xf80000000000007fULL,     0x03f00000007fe01fULL,
    0x003fc00000001ff0ULL,     0xc000fffffffffe00ULL,     0xf80000000000007fULL,     0x07f0000000ffc00fULL,
    0x003fe00000000ff0ULL,     0xc000ffffffffff00ULL,     0xf80000000000007fULL,     0x03f0000001ffc007ULL,
    0x007fc00000001ff0ULL,     0xc001ffffffffff00ULL,     0xf8000000000000ffULL,     0x07e0000003ff800fULL,
    0x003fc00000000ff0ULL,     0x8001ffffffffff00ULL,     0xf80000000000007fULL,     0x03f0000003ff0007ULL,
    0x003fc00000001ff0ULL,     0x8003ffffffffff80ULL,     0xf8000000000000ffULL,     0x03e0000007fe000fULL,
    0x007fc00000000ff0ULL,     0x8001ffffffffff80ULL,     0xf8000000000000ffULL,     0x03f000000ffe0007ULL,
    0x003fc00000001ff0ULL,     0x8003fe0000007f80ULL,     0xf8000000000001ffULL,     0x03e000001ffc000fULL,
    0x003fe00000000ff0ULL,     0x8007fc0000007fc0ULL,     0xf8000000000001ffULL,     0x03f000001ff80007ULL,
    0x007fc00000001ff0ULL,     0x0007fc0000003fc0ULL,     0xf8000000000003ffULL,     0x000000003ff0000fULL,
    0x003fc00000000ff0ULL,     0x0007fc0000003fe0ULL,     0xf8000000000003ffULL,     0x000000007ff00007ULL,
    0x003fc00000001ff0ULL,     0x000ff80000003fe0ULL,     0xf8000000000007feULL,     0x00000000ffe0000fULL,
    0x003fc00000000ff0ULL,     0x000ff80000001ff0ULL,     0xf8000000000007feULL,     0x00000000ffc00007ULL,
    0x007fc00000001ff0ULL,     0x001ff00000001ff0ULL,     0xf800000000000ffcULL,     0x00000001ff80000fULL,
    0x003fe00000000ff0ULL,     0x001ff00000000ff0ULL,     0xf800000000000ffcULL,     0x00000003ff000007ULL,
    0x003fc00000001ff0ULL,     0x001fe00000000ff0ULL,     0xf800000000003ff8ULL,     0x00000007ff00000fULL,
    0x007fc00000000ff0ULL,     0x003fe00000000ff8ULL,     0xf800000000003ff8ULL,     0x03f00007fe000007ULL,
    0x003fc00000001ff0ULL,     0x003fe000000007f8ULL,     0xf80000000000fff0ULL,     0x0ff8000ffc00000fULL,
    0x003fc00000000ff0ULL,     0x007fc000000007fcULL,     0xf80010000001ffe0ULL,     0x0ffc001ff8000007ULL,
    0x007fc00000001ff0ULL,     0x007fc000000007fcULL,     0xf8001d00000fffc0ULL,     0x1ffc003ff800000fULL,
    0x003fe00000000ff0ULL,     0x007fc000000003feULL,     0xf8001fe8007fff80ULL,     0x1ffe003ff0000007ULL,
    0x003fc00000001ff0ULL,     0x00ff8000000003feULL,     0xf8001fffffffff00ULL,     0x1ffc007fe000000fULL,
    0x003fc00000000ff0ULL,     0x00ff8000000001ffULL,     0xf8001ffffffffe00ULL,     0x1ffe00ffc0000007ULL,
    0x007fc00000001ff0ULL,     0x01ff0000000001feULL,     0xf8001ffffffffc00ULL,     0x1ffc01ffc000000fULL,
    0x003fc00000000ff0ULL,     0x01ff0000000000ffULL,     0xf8001ffffffff000ULL,     0x1ffc01ff80000007ULL,
    0x803fc00000001ff0ULL,     0x01ff0000000000ffULL,     0xf8001fffffffc000ULL,     0x0ffc03ff0000000fULL,
    0x807fe00000000ff0ULL,     0x03fe0000000000ffULL,     0xf80001fffffd0000ULL,     0x0ff807fe00000007ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x00000017ffd00000ULL,     0x03e0000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,
    0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,     0x0000000000000000ULL,

};

int main(void) {
    int y;
	int x;
	int kb_c;

	int tword; // word idx
	int tbit; // bit in word idx
	char pix; // pixel in image

   	// 320x200; 256 colour mode
    _setvideomode(_MRES256COLOR);

	while (1) {
		if (kbhit()) {
			kb_c = getch();
			// 27 == ESC
			if (kb_c == 27)
				break;
	    	}

			tword = 0;
			tbit = 0;

	    	for (y = 32; y < Y_RES - 32; y++) {
				for (x = 32; x < X_RES - 32; x++) {
					char pix = (image[tword] >> tbit) & 1;
					if (pix == 1){
						_setcolor(10);
					} else {
						_setcolor(1);
					}
					_setpixel(x, y);

					tbit++;
					if (tbit >= 64) {
						// next word
						tbit = 0;
						tword++;
					}
				}
	    	}
	}

	// return to con mode
	_setvideomode(_DEFAULTMODE);

	printf("Demo done!!\n");
    return 0;
}
